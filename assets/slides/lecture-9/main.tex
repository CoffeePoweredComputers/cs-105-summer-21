\documentclass{beamer}

\usepackage{graphicx}
\usepackage{textpos}
\usepackage{listings}
\usepackage{lstautogobble}

\usetheme{Madrid}
\useoutertheme{miniframes} % Alternatively: miniframes, infolines, split

% Setup the university's color pallette
\definecolor{UIUCorange}{RGB}{19, 41, 75} % UBC Blue (primary)
\definecolor{UIUCblue}{RGB}{232, 74, 39} % UBC Grey (secondary)

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{python}{
  backgroundcolor=\color{backcolour},   
  commentstyle=\color{codegreen},
  keywordstyle=\color{magenta},
  numberstyle=\tiny\color{codegray},
  stringstyle=\color{codepurple},
  basicstyle=\ttfamily\footnotesize,
  breakatwhitespace=false,         
  belowskip=-0.5em,
  breaklines=true,                 
  captionpos=b,                    
  keepspaces=true,                 
  numbers=left,                    
  numbersep=5pt,                  
  showspaces=false,                
  showstringspaces=false,
  showtabs=false,                  
  tabsize=2
}

\lstset{style=python}

\AtBeginSection[]{
    \begin{frame}
        \vfill
        \centering
        \begin{beamercolorbox}[sep=8pt,center,shadow=true,rounded=true]{title}
            \usebeamerfont{title}\insertsectionhead\par%
        \end{beamercolorbox}
        \vfill
    \end{frame}
}
% Setup the university's color pallette
\definecolor{UIUCorange}{RGB}{19, 41, 75} % UBC Blue (primary)
\definecolor{UIUCblue}{RGB}{232, 74, 39} % UBC Grey (secondary)


\setbeamercolor{palette primary}{bg=UIUCorange,fg=white}
\setbeamercolor{palette secondary}{bg=UIUCblue,fg=white}
\setbeamercolor{palette tertiary}{bg=UIUCblue,fg=white}
\setbeamercolor{palette quaternary}{bg=UIUCblue,fg=white}
\setbeamercolor{structure}{fg=UIUCorange} % itemize, enumerate, etc
\setbeamercolor{section in toc}{fg=UIUCblue} % TOC sections

\setbeamercolor{subsection in head/foot}{bg=UIUCorange,fg=UIUCblue}
\setbeamercolor{subsection in head/foot}{bg=UIUCorange,fg=UIUCblue}

\usepackage[utf8]{inputenc}
\usepackage{graphicx}

%Information to be included in the title page:
\title{\textbf{Strings and Files}}
\author{\textbf{David H Smith IV}}
\institute[\textbf{UIUC}]{\textbf{University of Illinois Urbana-Champaign}}
\date{\textbf{Wed, July 13 2021}}

\setbeamertemplate{title page}[default][colsep=-4bp,rounded=true]
\addtobeamertemplate{title page}{\vspace{3\baselineskip}}{}
\addtobeamertemplate{title page}{
  \begin{textblock*}{\paperwidth}(-1.0em, -1.2em)
    \includegraphics[width=\paperwidth, height=\paperheight]{imgs/uiuc.png}
  \end{textblock*} 
}{}

\begin{document}

\frame{\titlepage}

\section{Reminders}

%
% Slide 1
%
\begin{frame}
  \frametitle{Reminders}
  \begin{itemize}
    \item Homework 5 due Friday
    \item Homework 4 grace period due Friday
    \item Signup for Quiz 4 via the CBTF
  \end{itemize}
\end{frame}

\section{Strings}


%
% Slide 2
%
\begin{frame}[fragile]
  \frametitle{Poll Question: Slicing}
  What is the result of running this code?
  \begin{lstlisting}[language=Python, autogobble]
  my_str = "CS 105"
  print(my_str[1:2])
  \end{lstlisting}
  \vfill
  \begin{enumerate}[A]
    \item \lstinline|'C'|
    \item \lstinline|'CS'|
    \item \lstinline|'CS '|
    \item \lstinline|'S'|
    \item \lstinline|'S '|
  \end{enumerate}
\end{frame}



%
% Slide 2
%
\begin{frame}[fragile]
  \frametitle{Poll Question: Slicing}
  What is the result of running this code?
  \begin{lstlisting}[language=Python, autogobble]
  my_str = "CS 105"
  print(my_str[-4:-2])
  \end{lstlisting}
  \vfill
  \begin{enumerate}[A]
    \item \lstinline|'S 1'|
    \item \lstinline|'S 10'|
    \item \lstinline|' 1'|
    \item \lstinline|' 10'|
  \end{enumerate}
\end{frame}



%
% Slide 2
%
\begin{frame}[fragile]
  \frametitle{Poll Question: Slicing}
  What is the result of running this code?
  \begin{lstlisting}[language=Python, autogobble]
  my_str = "CS 105"
  print(my_str([::2]))
  \end{lstlisting}
  \vfill
  \begin{enumerate}[A]
    \item \lstinline|'C'|
    \item \lstinline|'CS'|
    \item \lstinline|'S'|
    \item \lstinline|'C 0'|
  \end{enumerate}
\end{frame}



%
% Slide 2
%
\begin{frame}[fragile]
  \frametitle{Poll Question: Splitting}
  What is the result of running this code?
  \begin{lstlisting}[language=Python, autogobble]
  my_str = "CS 105 rox"
  result = my_str.split()
  \end{lstlisting}
  \vfill
  \begin{enumerate}[A]
    \item \lstinline|("CS", "105", "rox")|
    \item \lstinline|["CS 105 rox""]|
    \item \lstinline|["CS", "105 rox"]|
    \item \lstinline|["CS", "105", "rox"]|
  \end{enumerate}
\end{frame}



%
% Slide 2
%
\begin{frame}[fragile]
  \frametitle{Poll Question: Splitting}
  What is the result of running this code?
  \begin{lstlisting}[language=Python, autogobble]
  csv = "1, 2, 3, 4"
  result = csv.split(",")
  \end{lstlisting}
  \vfill
  \begin{enumerate}[A]
    \item \lstinline|['1']|
    \item \lstinline|['1, 2, 3, 4']|
    \item \lstinline|['1', '2', '3', '4']|
    \item \lstinline|['1,', '2,', '3,', '4']|
  \end{enumerate}
\end{frame}


%
% Slide 2
%
\begin{frame}[fragile]
  \frametitle{Poll Question: Joining}
  What is the result of running this code?
  \begin{lstlisting}[language=Python, autogobble]
  numlist = [1, 2, 3, 4]
  result = ",".join(numlist)
  \end{lstlisting}
  \vfill
  \begin{enumerate}[A]
    \item \lstinline|'1234'|
    \item \lstinline|'1,2,3,4'|
    \item \lstinline|'1, 2, 3, 4|
    \item \lstinline|TypeError|
  \end{enumerate}
\end{frame}


%
% Slide 2
%
\begin{frame}[fragile]
  \frametitle{A Common Pattern}
  The generic pattern:
  \begin{lstlisting}[language=Python, autogobble]
  mylist = input_data.split(<separator>)
  ... data processing ...
  outputstring "<separator>".join(my_list)
  \end{lstlisting}
  \vfill
  An example of this being done on one line:
  \begin{lstlisting}[language=Python, autogobble]
  output = ",".join(input.split(",")[::2])
  \end{lstlisting}
\end{frame}
\section{Files}
%
% Slide 2
%
\begin{frame}[fragile]
  \frametitle{Why do we use files?}
  \begin{minipage}{0.48\textwidth}
    \begin{itemize}
      \item Files are how data are stored on external storage
      \item Managed by O/S
      \item Disk is slow
      \item Opening files moves them to memory for the program
      \item Data is buffered (temporarily stored) in memory
    \end{itemize}
  \end{minipage}
  \hfill
  \begin{minipage}{0.48\textwidth}
    \centering
    \includegraphics[width=0.95\textwidth]{./imgs/von-neumann-arch.png}
    \vfill
  \end{minipage}
\end{frame}


%
% Slide 2
%
\begin{frame}[fragile]
  \frametitle{Poll Question: Opening a File}
  By default what does the \listinline|open()| function have it's file access permissions set as?
  \begin{lstlisting}[language=Python, autogobble]
  \end{lstlisting}
  \vfill
  \begin{enumerate}[A]
    \item \lstinline|Reading|
    \item \lstinline|Writing|
    \item \lstinline|Appending|
    \item \lstinline|Reading and Writing|
    \item \lstinline|Writing and Appending|
    \item \lstinline|reading, Writing, and Appending|
  \end{enumerate}
\end{frame}

%
% Slide 2
%
\begin{frame}[fragile]
  \frametitle{Poll Question: Files}
  Continue writing to existing files?
  \vfill
  \begin{enumerate}[A]
    \item \lstinline|outf = open('filename', 'r')|
    \item \lstinline|outf = open('filename', 'x')|
    \item \lstinline|outf = open('filename', 'i')|
    \item \lstinline|outf = open('filename', 'a')|
    \item \lstinline|outf = open('filename', 'e')|
  \end{enumerate}
\end{frame}

%
% Slide 2
%
\begin{frame}[fragile]
  \frametitle{Reading from Files}
  Method 1:
  \begin{lstlisting}[language=Python, autogobble]
  file_object = open('filename')
  lines = file_object.readlines()
  for line in lines:
    print(line)
  file_object.close()
  \end{lstlisting}
  \vfill
  Method 2:
  \begin{lstlisting}[language=Python, autogobble]
  with open('filename') as inf:
    lines = inf.readlines()
    for line in lines:
      print(line)
    #automatic file close
  \end{lstlisting}
\end{frame}

%
% Slide 2
%
\begin{frame}[fragile]
  \frametitle{Writing to Files}
  Method 1:
  \begin{lstlisting}[language=Python, autogobble]
  file_object = open('filename', 'w')
  file_object.write('thing to write')
  file_objet.close()  #automatic at program end
  file_object.flush() #optional
  \end{lstlisting}
  \vfill
  Method 2:
  \begin{lstlisting}[language=Python, autogobble]
  with open('filename', 'w') as outf:
    outf.write('thing to write')
    #automatic file close
  \end{lstlisting}
\end{frame}

\end{document}
